# https://sequencediagram.org/

title Webhook Sequence Diagram

participant "Webhook Target" as Target
participant Backend
participant "Webhook Delivery Worker\n(Master)" as Master
participant "Webhook Delivery Worker\n(Slaves)" as Slaves

Target->Backend: Register\nwebhook\nwith event E
note over Backend: whenever\nevent E\noccurs
Backend->Master: Send event E\n(via RabbitMQ)
note over Master: list all webhooks\nthat subscribed to\nevent E
note over Master: for each of those\nweb hooks, extract\n**FULL_E = (targetUrl,\neventName, eventContent)**
Master->Slaves: send **FULL_E** messages\n(via RabbitMQ)
Slaves->Target: call **FULL_E.targetUrl** with corresponding **eventName**\nand **eventContent**
Target-->Slaves: succeeds (returns 2xx)\nor fails (returns 4xx, 5xx, or do not return, timeout...)
Slaves->Backend: reports status (success/failure) of the\nwebhook call

# Alice->Bob:Click and drag to create a request or\ntype it in the source area to the left
# Alice<--Bob:drag to move
# note over Bob,Double click to edit text:Click Help menu for **instructions** and **examples**
# Bob->(3)Double click to edit text:non-instantaneous message
